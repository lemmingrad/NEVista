//----------------------------------------------------------//
// SQLITEDATABASE.CPP
//----------------------------------------------------------//
//-- Description			
// A SQLite database wrapper.
//----------------------------------------------------------//


#include "SQLiteDatabase.h"
#include "Types.h"
#include <sqlite3.h>


//----------------------------------------------------------//
// DEFINES
//----------------------------------------------------------//

//----------------------------------------------------------//
// GLOBALS
//----------------------------------------------------------//

//----------------------------------------------------------//
// CSQLiteDatabase::CSQLiteDatabase
//----------------------------------------------------------//
//-- Description
//----------------------------------------------------------//
CSQLiteDatabase::CSQLiteDatabase()
: m_pDatabase(NULL)
{
}
		

//----------------------------------------------------------//
// CSQLiteDatabase::~CSQLiteDatabase
//----------------------------------------------------------//
//-- Description
//----------------------------------------------------------//
CSQLiteDatabase::~CSQLiteDatabase()
{
}


//----------------------------------------------------------//
// CSQLiteDatabase::Open
//----------------------------------------------------------//
//-- Description
//----------------------------------------------------------//
s32	CSQLiteDatabase::Open(const s8* strFilename)
{
	return sqlite3_open(strFilename, &m_pDatabase);
}


//----------------------------------------------------------//
// CSQLiteDatabase::Close
//----------------------------------------------------------//
//-- Description
//----------------------------------------------------------//
s32	CSQLiteDatabase::Close(void)
{
	if (IS_PTR(m_pDatabase))
	{
		s32 nRet = sqlite3_close(m_pDatabase);
		m_pDatabase = NULL;
		return nRet;
	}

	return SQLITE_OK;
}


//----------------------------------------------------------//
// CSQLiteDatabase::GetHandle
//----------------------------------------------------------//
//-- Description
//----------------------------------------------------------//
sqlite3* CSQLiteDatabase::GetHandle(void)
{
	return m_pDatabase;
}


//----------------------------------------------------------//
// CSQLiteDatabase::IsOpen
//----------------------------------------------------------//
//-- Description
//----------------------------------------------------------//
bool CSQLiteDatabase::IsOpen(void) const
{
	return IS_PTR(m_pDatabase) ? true : false;
}


//----------------------------------------------------------//
// EOF
//----------------------------------------------------------//
